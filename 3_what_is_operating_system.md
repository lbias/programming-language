# 什么是操作系统

关于编程语言是如何运作的，我们还漏介绍一个关键的系统软件，那就是[操作系统](https://zh.wikipedia.org/zh-cn/操作系统)。

一台电脑不只跑一只程序，而是同时有非常多程序在执行，另外还有各式各样不同厂商的I/O设备。而操作系统就是负责管理这些硬件资源的程序，它会负责管理如何分配内存给不同的程序和优先级、控制I/O设备，例如硬盘、网卡、鼠标、键盘等等，并且提供一个用户接口让我们可以安装和操作不同应用软件。

因此，上一章有提到的高级语言需要透过编译器转换成机器码，会因为不同 CPU 架构而不同，也会因为不同的操作系统而不同。不同的操作系统，会提供不同的 API 让编程语言可以调用硬件资源。编程语言不需要知道不同厂商的硬盘怎么调用，编程语言内部会调用操作系统所提供的档案 API，而不同厂商的硬盘，会提供驱动(Driver)软件与操作系统串接。

操作系统例如微软的 Windows、Apple 的 MacOS、Linux 等等。

让我们动手操作一下，观察一下操作系统的运作。请打开 Mac 的 Activity Monitor

![](https://ws3.sinaimg.cn/large/006tKfTcgy1fhgx3pzdh8j30yl0ontdq.jpg)

其中每个正在执行的程序，就叫做 Process 进程，会有一个编号是 PID。每个 Process 会被操作系统分配一整块内存，以及分配给一个 CPU 执行，不同 Process 可以同时执行。如果有多个 CPU 就是真的平行处理，如果只有一颗 CPU，那操作系统也会依照优先级依序让不同 Process 执行，因为 CPU 很快就好像是平行执行的一样。

如果一个 Process 内想要平行处理，那可以再生出轻量的 Thread(线程)，不同线程可以分配到不同 CPU 上执行，但是是共享同一块内存。撰写多线程的程序是困难的，我们不太会接触。
