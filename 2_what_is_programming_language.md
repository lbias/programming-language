# 什么是编程语言

编程语言用来描述电脑如何工作，电脑很厉害可以处理超多资料、每秒可以做数亿次的操作(operations)，但是同时也很笨，每个操作很简单机械、没有见解或理解。编程语言也需要很精确，需要固定语法(syntax)结构让电脑可以了解。

世界上很有很多编程语言，为什么有这么多种语言呢？让我们先分成两种：低级语言和高级语言来说明。

## 低级语言

低级语言指的是[机器语言](https://zh.wikipedia.org/wiki/机器语言)和[汇编语言](https://zh.wikipedia.org/wiki/汇编语言)，一步一步指示电脑微处理器如何动作，是最原始的编程语言。低级语言不是说比高级语言差，而是指抽象化的程度比较低，与电脑硬件的指令直接对应的意思。

首先，一台电脑的组成，包括中央处理器(CPU)、内存(RAM)、硬盘和其他 I/O 设备(网卡、键盘、鼠标和萤幕等)。其中内存就像是短期记忆，所有正要执行的指令和数据，都会先放在内存上。CPU 会从内存读取出要执行的指令和数据，执行完的结果再放回内存。内存的速度很快，但是只要关机重开，数据就会不见，而且容量较小。为了持久化数据，我们用硬盘来存成档案，来做持续保存。硬盘的空间很大，也比较便宜。

中央处理器(CPU)有自己的指令集，不同厂商的 CPU 指令集不一样，例如 [Intel x86](https://zh.wikipedia.org/wiki/X86) 和 [ARM](https://zh.wikipedia.org/wiki/ARM架構) 不一样。Intel 的 CPU 主宰了桌机和服务器市场，特色是效能高跑得快。而 ARM 架构的 CPU 特色是省电，因此大部分的手机和行动装置，都是用 ARM 架构的 CPU。

机器语言会指示 CPU 进行什么操作：首先将指令和数据从内存搬进 CPU 的寄存器，接着 CPU 进行计算，然后将结果从CPU 寄存器搬回内存，代码长得像这样：

```
000000 00001 00010 00110 00000 100000
100011 00011 01000 00000 00001 000100
000010 00000 00000 00000 10000 000000
```

看不懂意义是正常的。其中每一行内容就是某个 CPU 指令、CPU 寄存器编号，以及内存位址。这个内存位址的长度是固定的，目前主流是 32 位元或 64 位元 (所以 CPU 跟操作系统，还有分 64 位元和 32 位元，指的就是这个长度)。

> 电脑的数字信号是以二进制数来表示的，一个 0 或 1 就是一个位元(bits)。8个 bits 称为 1 bytes 是常见电脑计算容量的基本单位，32位元也就是4bytes的长度。在往上则是 1000 byte 或 1024 bytes 为 1 kilobyte (1KB)。1000 或 1024 KB 是 1 Megabyte (1 MB)、1000 或 1024 MB 是 1 Gibibyte、1000 或 1000 GiB 是 1 Tebibyte (1TB)。什么时候用十进制 1000 什么时候用二进制的 1024 (二的十次方)呢？对商人有利的时候就会用十进制，例如卖你硬盘容量的时候讲 1T，但是硬盘格式化之后，电脑是用二进制运作的，所以变成 930 GB 而已。

机器语言人类是很难直接阅读和撰写，因此 CPU 厂商发明了汇编语言，基本上就是对应机器语言，只是给予符号意义，长得像这样：

```
MOV eax, 1
ADD eax, 4
SUB eax, 2
MOV num, eax
INVOKE printf, ADDR formatStr, num
ret    0
```

低级语言写起来很费事，但电脑跑起来飞快。注意，不同 CPU 的机器码(又叫做 native code)是不一样的。因此 Intel x86 和 ARM CPU 的代码、32位元和64位元的程序是不通用的。

> 这世界上有两种人，懂二进制的，以及不懂二进制的。

# 高级语言

由于撰写低级语言的开发速度太慢，因此我们会用所谓的高级语言来开发软件。高级语言透过结构化的程序设计语法，包括变量、数据型态 函式、控制结构、循环等等功能，来让开发好读好写。

这些高级语言例如 C 语言、Java 语言、PHP/Python/Ruby 等等。其中最重要的发明就是 C 语言了，长得像这样：

```
#include <stdio.h>
int main() {
    int n, i, sum = 0;

    printf("Enter a positive integer: ");
    scanf("%d",&n);

    for(i=1; i <= n; ++i) {
        sum += i;   // sum = sum+i;
    }

    printf("Sum = %d",sum);
    return 0;
}
```

请存成 `sum.c`，然后执行 `cc` `sum.c` `-o` `sum` 就会编译出 `sum` 这个执行档，用 `./sum` 就会执行。这个程式会从 1 累加到你输入的一个数字。

在 C 语言中，使用变量需要先宣告数据型态，例如这里是 `int` 表示整数。它会预先跟内存要固定的空间(int 会要 4 bytes)。在 C 语言中，要使用变量都必须跟内存先讲要多少空间。

电脑可以执行机器码，但是无法直接消化高级语言，这些高级语言的源代码都必须经过一个编译(compile)的过程，转换成二进制机器语言，也就是可执行的档案。

这个编译的工具，叫做编译器(Compiler)。你不必弄明白代码是怎么变成二进制码的机器语言，但你得知道这个过程。

电脑软件可以分成系统软件和应用软件，前者包括操作系统、编译器、嵌入式系统等等，不希望有任何效能损耗，需要了解硬件、操控硬件，例如内存空间。后者则是各种 App、桌面软件、手机软件、Web 应用等，效能上可以有权衡(trade-off)，好写好改 vs. 程式执行效能，来因应变来变去的商务需求。

其中 C 语言是最重要的系统程式语言，目前绝大部分编程语言的编译器，都是用 C 语言写的，例如 Ruby 也是用 C 语言写的。C 源码经过编译后可以移植到不同硬件上(例如 Intel 或 ARM，同一份 C 源码，用不同平台编译器编译出不同的机器码)上，执行的效能非常好。

> 趣闻：[那第一个C语言编译器是怎样编写的？]()
